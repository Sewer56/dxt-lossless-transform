export DIRENV_WARN_TIMEOUT=30s

eval "$(devenv direnvrc)"

# The use_devenv function supports passing flags to the devenv command
# For example: use devenv --impure --option services.postgres.enable:bool true
use devenv

# Additional environment setup for DXT development
export RUST_LOG=${RUST_LOG:-info}
export CARGO_INCREMENTAL=${CARGO_INCREMENTAL:-1}

# Ensure we're using the correct Rust toolchain
export PATH="$DEVENV_ROOT/.devenv/profile/bin:$PATH"

# Performance optimizations for development
export CARGO_TARGET_DIR="${CARGO_TARGET_DIR:-$PWD/target}"
export RUSTC_WRAPPER=""  # Clear any wrapper that might interfere with development
